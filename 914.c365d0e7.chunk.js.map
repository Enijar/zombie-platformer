{"version":3,"file":"914.c365d0e7.chunk.js","mappings":"0LA6BA,EAbuB,CACrBA,OAAQ,CACNC,SAAU,CAAC,EAAG,EAAG,IAEnBC,MAAO,CACLD,SAAU,CAAC,EAAG,EAAG,GACjBE,SAAU,CAACC,EAAAA,UAAAA,UAA0B,IAAK,EAAG,IAE/CC,SAAU,CACRC,KAAM,CAAC,EAAG,M,kBChBC,SAASC,EAAT,GAAmC,IAAjB,KAAED,GAAe,EAChD,MAAM,GAAEE,IAAOC,EAAAA,EAAAA,KAETC,GAAUC,EAAAA,EAAAA,GAAW,iCAAkCD,IAC3D,MAAME,EAAMF,EACZE,EAAIC,WAAaL,EAAGM,aAAaC,mBACjCH,EAAII,UAAYZ,EAAAA,cAChBQ,EAAIK,UAAYb,EAAAA,cAChBQ,EAAIM,MAAQd,EAAAA,eACZQ,EAAIO,MAAQf,EAAAA,eACZQ,EAAIQ,OAAOC,OAAOf,MAGpB,OACE,6BACE,4BACE,uCAAqBgB,KAAMhB,IAC3B,qCAAmBiB,IAAKb,M,sBCxBhC,GCDS,ECQM,SAASc,EAAT,GAAqC,IAArB,SAAEvB,GAAmB,EAClD,OACE,gCACE,gBAACwB,EAAA,EAAD,CAAmBC,aAAW,EAACzB,SAAUA,IACxC0B,GAAgB,gBAACC,EAAA,EAAD,CAAeF,aAAW,KCP1C,MAAMG,GAAUC,E,OAAAA,IAAgB,KAC9B,CACLC,MAAO,QCII,SAASC,EAAT,GAAwD,IAAzC,SAAE/B,EAAF,SAAYE,EAAZ,SAAsB8B,GAAmB,EACrE,MAAMC,EAAWC,EAAAA,OAA0B,MAErCJ,EAAQF,GAASO,GAAUA,EAAML,QAYvC,OAVAM,EAAAA,EAAAA,IAAS,KACP,MAAMC,EAAQJ,EAASK,QACvB,GAAc,OAAVD,EAAgB,OACpB,MAAME,GAAiC,GAA3Bb,EAAAA,SAAAA,KAAAA,GACZW,EAAMrC,SAASwC,GAAKV,EAChBO,EAAMrC,SAASwC,GAAKD,IACtBF,EAAMrC,SAASwC,EAAI,MAKrB,yBAAOtC,SAAUA,GACf,yBAAOF,SAAUA,GACf,yBAAOyC,IAAKR,GAAWD,KCvBhB,SAASU,IACtB,OACE,gBAAC,KAAD,CAAQC,MAAI,EAACC,QAAM,EAACC,IAAK,GACvB,gBAAC,WAAD,CAAgBC,SAAU,kCACxB,gBAACf,EAAD,CACE/B,SAAU0B,EAAAA,MAAAA,SACVxB,SAAUwB,EAAAA,MAAAA,UAEV,gBAACpB,EAAD,CAAUD,KAAMqB,EAAAA,SAAAA,QAElB,gBAACH,EAAD,CAAQvB,SAAU0B,EAAAA,OAAAA,aCdX,SAASqB,IACtB,OACE,4BACE,gBAACL,EAAD","sources":["webpack://@app/client/./src/game/config.ts","webpack://@app/client/./src/game/components/platform.tsx","webpack://@app/client/./src/config.ts","webpack://@app/client/./env.ts","webpack://@app/client/./src/game/components/camera.tsx","webpack://@app/client/./src/game/hooks/use-game.tsx","webpack://@app/client/./src/game/components/scene.tsx","webpack://@app/client/./src/game/game.tsx","webpack://@app/client/./src/pages/play/play.tsx"],"sourcesContent":["import * as THREE from \"three\";\nimport { Vector3, Euler } from \"@react-three/fiber\";\n\ntype Config = {\n  camera: {\n    position: Vector3;\n  };\n  scene: {\n    position: Vector3;\n    rotation: Euler;\n  };\n  platform: {\n    size: [width: number, height: number];\n  };\n};\n\nconst config: Config = {\n  camera: {\n    position: [0, 0, 5],\n  },\n  scene: {\n    position: [0, 0, 1],\n    rotation: [THREE.MathUtils.degToRad(-50), 0, 0],\n  },\n  platform: {\n    size: [2, 20],\n  },\n};\n\nexport default config;\n","import React from \"react\";\nimport * as THREE from \"three\";\nimport { useThree } from \"@react-three/fiber\";\nimport { useTexture } from \"@react-three/drei\";\n\ntype Props = {\n  size?: [width: number, height: number];\n};\n\nexport default function Platform({ size }: Props) {\n  const { gl } = useThree();\n\n  const texture = useTexture(\"./assets/platform/texture.png\", (texture) => {\n    const tex = texture as THREE.Texture;\n    tex.anisotropy = gl.capabilities.getMaxAnisotropy();\n    tex.minFilter = THREE.NearestFilter;\n    tex.magFilter = THREE.NearestFilter;\n    tex.wrapT = THREE.RepeatWrapping;\n    tex.wrapS = THREE.RepeatWrapping;\n    tex.repeat.set(...size);\n  });\n\n  return (\n    <group>\n      <mesh>\n        <planeBufferGeometry args={size} />\n        <meshBasicMaterial map={texture} />\n      </mesh>\n    </group>\n  );\n}\n","import env from \"../env\";\n\nexport default {\n  debug: env.debug,\n};\n","export default {\n  debug: false,\n};\n","import React from \"react\";\nimport { Vector3 } from \"@react-three/fiber\";\nimport { OrbitControls, PerspectiveCamera } from \"@react-three/drei\";\nimport config from \"@/config\";\n\ntype Props = {\n  position?: Vector3;\n};\n\nexport default function Camera({ position }: Props) {\n  return (\n    <>\n      <PerspectiveCamera makeDefault position={position} />\n      {config.debug && <OrbitControls makeDefault />}\n    </>\n  );\n}\n","import create from \"zustand\";\n\ntype UseGame = {\n  speed: number;\n};\n\nexport const useGame = create<UseGame>(() => {\n  return {\n    speed: 0.01,\n  };\n});\n","import React from \"react\";\nimport * as THREE from \"three\";\nimport { Vector3, Euler, useFrame } from \"@react-three/fiber\";\nimport { useGame } from \"@/game/hooks/use-game\";\nimport config from \"@/game/config\";\n\ntype Props = {\n  position?: Vector3;\n  rotation?: Euler;\n  children?: React.ReactNode;\n};\n\nexport default function Scene({ position, rotation, children }: Props) {\n  const groupRef = React.useRef<THREE.Group>(null);\n\n  const speed = useGame((state) => state.speed);\n\n  useFrame(() => {\n    const group = groupRef.current;\n    if (group === null) return;\n    const min = config.platform.size[1] * -0.1;\n    group.position.y -= speed;\n    if (group.position.y <= min) {\n      group.position.y = 0;\n    }\n  });\n\n  return (\n    <group rotation={rotation}>\n      <group position={position}>\n        <group ref={groupRef}>{children}</group>\n      </group>\n    </group>\n  );\n}\n","import React from \"react\";\nimport { Canvas } from \"@react-three/fiber\";\nimport config from \"@/game/config\";\nimport Platform from \"@/game/components/platform\";\nimport Camera from \"@/game/components/camera\";\nimport Scene from \"@/game/components/scene\";\n\nexport default function Game() {\n  return (\n    <Canvas flat linear dpr={1}>\n      <React.Suspense fallback={<></>}>\n        <Scene\n          position={config.scene.position}\n          rotation={config.scene.rotation}\n        >\n          <Platform size={config.platform.size} />\n        </Scene>\n        <Camera position={config.camera.position} />\n      </React.Suspense>\n    </Canvas>\n  );\n}\n","import React from \"react\";\nimport Game from \"@/game/game\";\n\nexport default function Play() {\n  return (\n    <main>\n      <Game />\n    </main>\n  );\n}\n"],"names":["camera","position","scene","rotation","THREE","platform","size","Platform","gl","useThree","texture","useTexture","tex","anisotropy","capabilities","getMaxAnisotropy","minFilter","magFilter","wrapT","wrapS","repeat","set","args","map","Camera","PerspectiveCamera","makeDefault","config","OrbitControls","useGame","create","speed","Scene","children","groupRef","React","state","useFrame","group","current","min","y","ref","Game","flat","linear","dpr","fallback","Play"],"sourceRoot":""}